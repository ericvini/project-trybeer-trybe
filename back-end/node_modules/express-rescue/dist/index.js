"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const rescue = function rescue(callback) {
    return async function rescuehandler(...args) {
        const next = args.slice(-1).pop();
        try {
            await callback(...args);
        }
        catch (err) {
            next(err);
        }
    };
};
rescue.from = function rescuefrom(constructor, callback) {
    return function errorhandler(err, req, res, next) {
        if (!(err instanceof constructor)) {
            next(err);
        }
        callback(err, req, res, next);
    };
};
exports.default = rescue;
module.exports = rescue;
//# sourceMappingURL=index.js.map